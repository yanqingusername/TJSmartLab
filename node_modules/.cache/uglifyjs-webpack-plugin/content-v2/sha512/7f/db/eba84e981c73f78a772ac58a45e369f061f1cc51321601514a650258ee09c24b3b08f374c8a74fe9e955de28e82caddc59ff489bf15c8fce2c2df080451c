{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-39b2\"],{16:function(e,t){},28:function(e,t){},29:function(e,t){},30:function(e,t){},31:function(e,t){},32:function(e,t){},\"5QaP\":function(e,t,a){\"use strict\";a.r(t);var i=a(\"hY44\"),o=(a(\"vDqi\"),{components:{pdf:i.a},data:function(){return{pdfUrl:\"\",numPages:[],fileArr:[],upLoadImgUrl:\"\",form:{position:\"\"},Lab:{fileName:\"\",fileType:\"\",upLoadImgUrl:\"\",pdfUrl:\"\"},fileType:[{id:1,type:\"营业执照\"},{id:2,type:\"管理制度\"},{id:3,type:\"质量部\"}]}},created:function(){},methods:{submitUpload:function(){this.$refs.upload.submit()},uploadUrl:function(){return\"http://localhost:8201/admin/smartLab/uploadLabAptitude.hn?fileName=\"+this.Lab.fileName+\"&fileType=\"+this.Lab.fileType},beforeUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(\".\")+1);if(e.size/1024/1024<10||(this.$message.error(\"上传文件大小不能超过 10MB!\"),console.log(\"上传文件大小不能超过 10MB!\")),-1===[\"pdf\",\"jpg\",\"jpeg\",\"png\"].indexOf(t))return this.$msg(\"上传文件只能是 pdf、jpg、jpeg、png\",\"error\"),!1},imgPreview:function(e){this.fileArr=[],this.fileArr.push(e),this.form.position=\"\",console.log(e),this.form.position=e.name;var t=e.name;console.log(\"打印file大小\"),console.log(e.size),e.size/1024/1024<10||(this.$message.error(\"上传文件大小不能超过 10MB!\"),console.log(\"上传文件大小不能超过 10MB!\")),/(.jpg|.jpeg|.gif|.png|.pdf)$/.test(t.toLowerCase())?(this.Lab.upLoadImgUrl=URL.createObjectURL(e.raw),this.Lab.pdfUrl=this.getPdfUrl(e),console.log(\"========>\",this.upLoadImgUrl),console.log(\"--------\\x3e\",this.pdfUrl)):this.$message.error(\"请选择图片或pdf文件\")},upSuccess:function(e){this.$message({message:\"上传成功\",type:\"success\"}),this.$router.push({path:\"/smartLab/labAptitude\"})},upError:function(e){this.$message({message:\"上传失败\",type:\"error\"})},getPdfUrl:function(e){var t=this,a=window.URL.createObjectURL(e.raw);return i.a.createLoadingTask(a).promise.then(function(e){t.numPages=e.numPages,console.log(\"numPages\",t.numPages)}).catch(function(e){console.error(\"pdf 加载失败\",e)}),a}}}),l=(a(\"YO1w\"),a(\"KHd+\")),s=Object(l.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",{ref:\"Lab\",attrs:{\"label-width\":\"120px\",model:e.Lab,enctype:\"multipart/form-data\"}},[a(\"el-form-item\",{staticStyle:{width:\"auto\",\"padding-top\":\"20px\"},attrs:{label:\"资质名称\",prop:\"fileName\"}},[a(\"el-input\",{staticStyle:{width:\"30%\"},attrs:{placeholder:\"请输入文件名称\"},model:{value:e.Lab.fileName,callback:function(t){e.$set(e.Lab,\"fileName\",t)},expression:\"Lab.fileName\"}})],1),e._v(\" \"),a(\"el-form-item\",{staticStyle:{\"padding-top\":\"20px\"},attrs:{label:\"资质类型\",prop:\"fileType\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择文件类型\"},model:{value:e.Lab.fileType,callback:function(t){e.$set(e.Lab,\"fileType\",t)},expression:\"Lab.fileType\"}},e._l(e.fileType,function(e){return a(\"el-option\",{key:e.id,attrs:{label:e.type,value:e.type}})}))],1),e._v(\" \"),a(\"el-form-item\",{staticStyle:{width:\"auto\",\"padding-top\":\"20px\"},attrs:{label:\"选择文件\",prop:\"file\"}},[a(\"el-upload\",{ref:\"upload\",staticClass:\"upload-demo\",attrs:{accept:\".pdf, .jpg, .jpeg, .png\",action:e.uploadUrl(),\"file-list\":e.fileArr,data:e.uploadData,\"show-file-list\":!1,\"auto-upload\":!1,\"before-upload\":e.beforeUpload,\"on-success\":e.upSuccess,\"on-error\":e.upError,\"on-change\":e.imgPreview,name:\"file\"}},[a(\"el-input\",{staticClass:\"upload-input\",staticStyle:{width:\"300px\"},attrs:{placeholder:\"点击此选择上传文件\",disabled:\"\"},model:{value:e.form.position,callback:function(t){e.$set(e.form,\"position\",t)},expression:\"form.position\"}})],1)],1),e._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"success\"},on:{click:e.submitUpload}},[e._v(\"保存\")]),e._v(\" \"),a(\"router-link\",{attrs:{to:\"/smartLab/labAptitude\"}},[a(\"el-button\",{staticStyle:{\"margin-left\":\"15px\"}},[e._v(\"取消\")])],1)],1)],1)],1)},[],!1,null,null,null);s.options.__file=\"labAptitudeAdd.vue\";t.default=s.exports},YO1w:function(e,t,a){\"use strict\";var i=a(\"difL\");a.n(i).a},difL:function(e,t,a){}}]);","extractedComments":[]}