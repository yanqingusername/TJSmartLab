{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-5394\"],{a6Zu:function(t,e,a){},b3I2:function(t,e,a){\"use strict\";var l=a(\"a6Zu\");a.n(l).a},gQkg:function(t,e,a){\"use strict\";a.r(e);var l=a(\"vDqi\"),i=a.n(l),o={data:function(){return{performancemanage:[],current:1,limit:10,searchObj:{posttype:\"\"},list:[],total:0,multipleSelection:[],dialogFormVisible:!1,detailinfo:{},worktypelist:[],detaillist:[],personNum:\"\",currentdetail:1,detailtotal:0,pagedetail:1}},created:function(){this.getList()},methods:{getBatchNumber:function(){this.$router.push({path:\"/performance/pdf1\"})},resetForm:function(t){this.$refs[t].resetFields(),this.getList()},lockPoint:function(t,e){var a=this;performancemanage.lockHospSet(t,e).then(function(t){a.getList()})},handleSelectionChange:function(t){this.multipleSelection=t},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.current=e,i()({method:\"post\",url:\"https://scldev.coyotebio-lab.com:8443/lis_appointment/staff/showpersonperformanceInfo.hn\",params:{page:e,limit:this.limit,personname:this.searchObj.personName,personnum:this.searchObj.personnum,start_time:this.searchObj.start_time,end_time:this.searchObj.end_time,posttype:this.searchObj.posttype}}).then(function(e){console.log(e),t.list=e.data.list,t.total=e.data.total}).catch(function(t){console.log(t)})},getdetail:function(t){this.personNum=t,this.dialogFormVisible=!0,this.getworktype()},getworktype:function(){var t=this;i()({method:\"get\",url:\"https://scldev.coyotebio-lab.com:8443/lis_appointment/staff/getworktype.hn\",params:{}}).then(function(e){console.log(e),t.detailinfo.worktype=e.data.list[0].worktype,t.worktypelist=e.data.list,t.searchworklist(t.personNum)}).catch(function(t){console.log(t)})},searchworklist:function(t){var e=this;this.currentdetail=this.pagedetail,i()({method:\"post\",url:\"https://scldev.coyotebio-lab.com:8443/lis_appointment/staff/getworkdetaillist.hn\",params:{person_num:t,worktype:this.detailinfo.worktype,page:this.pagedetail,limit:this.limit,start_time:this.searchObj.start_time,end_time:this.searchObj.end_time}}).then(function(t){console.log(t),e.detaillist=t.data.list,e.detailtotal=t.data.total}).catch(function(t){console.log(t)})}}},n=(a(\"b3I2\"),a(\"KHd+\")),r=Object(n.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.getBatchNumber()}}},[t._v(\"查看绩效管理说明\")]),t._v(\" \"),a(\"br\"),a(\"br\"),t._v(\" \"),a(\"el-form\",{ref:\"searchObj\",staticClass:\"demo-form-inline\",attrs:{inline:!0,model:t.searchObj}},[a(\"el-form-item\",{attrs:{label:\"员工姓名\",prop:\"personName\"}},[a(\"el-input\",{attrs:{placeholder:\"员工姓名\"},model:{value:t.searchObj.personName,callback:function(e){t.$set(t.searchObj,\"personName\",e)},expression:\"searchObj.personName\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"员工编号\",prop:\"personnum\"}},[a(\"el-input\",{attrs:{placeholder:\"员工编号\"},model:{value:t.searchObj.personPhone,callback:function(e){t.$set(t.searchObj,\"personPhone\",e)},expression:\"searchObj.personPhone\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"岗位类型\"}},[a(\"el-select\",{attrs:{placeholder:\"placeholder\"},model:{value:t.searchObj.posttype,callback:function(e){t.$set(t.searchObj,\"posttype\",e)},expression:\"searchObj.posttype\"}},[a(\"el-option\",{key:\"item.key\",attrs:{label:\"全部\",value:\"\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"实验员\",value:\"1\"}}),t._v(\" \"),a(\"el-option\",{attrs:{label:\"样本核收\",value:\"0\"}})],1)],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"入职时间\",prop:\"start_time\"}},[a(\"el-date-picker\",{attrs:{type:\"datetime\",placeholder:\"开始时间\"},model:{value:t.searchObj.start_time,callback:function(e){t.$set(t.searchObj,\"start_time\",e)},expression:\"searchObj.start_time\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"-\",prop:\"end_time\"}},[a(\"el-date-picker\",{attrs:{type:\"datetime\",placeholder:\"结束时间\"},model:{value:t.searchObj.end_time,callback:function(e){t.$set(t.searchObj,\"end_time\",e)},expression:\"searchObj.end_time\"}})],1),t._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:function(e){t.getList()}}},[t._v(\"查询\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"default\"},on:{click:function(e){t.resetForm(\"searchObj\")}}},[t._v(\"清空\")])],1),t._v(\" \"),a(\"el-button\",{staticStyle:{\"background-color\":\"#409EFF\",color:\"#FFF\"},attrs:{type:\"default\",icon:\"el-icon-download\"},on:{click:function(e){t.downloadinfo()}}},[t._v(\"导出数据\")])],1),t._v(\" \"),a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.list,stripe:\"\"},on:{\"selection-change\":t.handleSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"index\",width:\"50\",label:\"序号\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"person_num\",label:\"工号\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"person_name\",label:\"姓名\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"岗位\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[0==e.row.type?a(\"span\",[t._v(\"样本核收\")]):t._e(),t._v(\" \"),1==e.row.type?a(\"span\",[t._v(\"实验员\")]):t._e(),t._v(\" \"),1!=e.row.type&&0!=e.row.type?a(\"span\",[t._v(\"其他\")]):t._e()]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"entry_time\",label:\"入职时间\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"操作\",width:\"280\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(a){t.getdetail(e.row.person_num)}}},[t._v(\"查看详情\")])]}}])})],1),t._v(\" \"),a(\"el-pagination\",{staticStyle:{padding:\"30px 0\",\"text-align\":\"center\"},attrs:{\"current-page\":t.current,\"page-size\":t.limit,total:t.total,layout:\"total, prev, pager, next, jumper\"},on:{\"current-change\":t.getList}}),t._v(\" \"),a(\"el-dialog\",{staticStyle:{height:\"90%\"},attrs:{\"close-on-click-modal\":!1,title:\"查看绩效详情\",visible:t.dialogFormVisible,width:\"70%\"},on:{\"update:visible\":function(e){t.dialogFormVisible=e}}},[a(\"el-form\",{attrs:{model:t.detailinfo}},[a(\"el-form-item\",{attrs:{label:\"工作类型\"}},[a(\"el-select\",{attrs:{filterable:\"\",clearable:\"\",placeholder:\"请选择工作类型\"},model:{value:t.detailinfo.worktype,callback:function(e){t.$set(t.detailinfo,\"worktype\",e)},expression:\"detailinfo.worktype\"}},t._l(t.worktypelist,function(t){return a(\"el-option\",{key:t.id,attrs:{clearable:\"\",label:t.text,value:t.worktype}})}))],1),a(\"br\"),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"上班时间\"}},[a(\"el-date-picker\",{attrs:{placeholder:\"请选择开始时间\",type:\"datetime\"},model:{value:t.detailinfo.dutystart_time,callback:function(e){t.$set(t.detailinfo,\"dutystart_time\",e)},expression:\"detailinfo.dutystart_time\"}}),t._v(\" 至 \\n            \"),a(\"el-date-picker\",{attrs:{placeholder:\"请选择结束时间\",type:\"datetime\"},model:{value:t.detailinfo.dutyend_time,callback:function(e){t.$set(t.detailinfo,\"dutyend_time\",e)},expression:\"detailinfo.dutyend_time\"}}),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.searchworklist(t.personNum)}}},[t._v(\"查询\")])],1),t._v(\" \"),a(\"el-form-item\",{staticStyle:{width:\"100%\"}},[a(\"span\",[t._v(\"总板数： \")]),t._v(\" \"),a(\"span\",{staticClass:\"batchsum\"}),t._v(\" \"),a(\"span\",{staticStyle:{\"margin-left\":\"5%\"}},[t._v(\"平均效率：\")]),t._v(\" \"),a(\"span\",{staticClass:\"Average_efficiency\"})]),t._v(\" \"),a(\"el-table\",{attrs:{data:t.detaillist}},[a(\"el-table-column\",{attrs:{prop:\"dutystarttime\",width:\"200\",label:\"上班时间\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"batchsums\",width:\"150\",label:\"总板数（板）\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"duration\",width:\"150\",label:\"时长（小时）\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"Average-efficiency\",width:\"150\",label:\"平均效率（分钟/板）\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"min-time\",width:\"150\",label:\"最短时长（分钟/板）\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"max-time\",width:\"150\",label:\"最长时长（分钟/板）\"}})],1),t._v(\" \"),a(\"el-pagination\",{staticStyle:{padding:\"30px 0\",\"text-align\":\"center\"},attrs:{\"current-page\":t.currentdetail,\"page-size\":t.limit,total:t.detailtotal,layout:\"total, prev, pager, next, jumper\"},on:{\"current-change\":t.searchworklist}})],1)],1)],1)},[],!1,null,\"b403b968\",null);r.options.__file=\"performancemanage.vue\";e.default=r.exports}}]);","extractedComments":[]}