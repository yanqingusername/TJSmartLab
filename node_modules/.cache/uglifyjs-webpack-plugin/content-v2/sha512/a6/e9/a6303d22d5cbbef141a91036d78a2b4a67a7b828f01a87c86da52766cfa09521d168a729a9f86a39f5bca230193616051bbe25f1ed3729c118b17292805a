{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-09c7\"],{\"/LaX\":function(t,e,a){\"use strict\";var l=a(\"jj74\");a.n(l).a},\"2fqk\":function(t,e,a){\"use strict\";a.r(e);var l=a(\"vDqi\"),o=a.n(l),i=(a(\"+CXx\"),{data:function(){return{searchObj:{},lablists:[],current:1,limit:10,total:0,list:[],dialogFormVisible:!1,Shiftform:{addlablist:\"\",batchdate:\"\",batch:\"\",forecast:\"\",charge_person_name:\"\",charge_person_phone:\"\",contact_person_name:\"\",contact_person_phone:\"\"},status:0}},created:function(){this.getlablist(),this.getList()},methods:{resetForm:function(t){this.searchObj={},this.getList()},lockPoint:function(t,e){var a=this;performancemanage.lockHospSet(t,e).then(function(t){a.getList()})},getlablist:function(){var t=this;o()({method:\"post\",url:\"https://scldev.coyotebio-lab.com:8443/lislab/basic_data/getlabinfo.hn\",params:{}}).then(function(e){console.log(e),t.lablists=e.data.res}).catch(function(t){console.log(t)})},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.current=e,o()({method:\"post\",url:\"https://scldev.coyotebio-lab.com:8443/lislab/basic_data/getDSforecastlist.hn\",params:{labname:this.searchObj.lablist,record_date:this.searchObj.forecastdate,page:e,limit:this.limit}}).then(function(e){console.log(e),t.list=e.data.result,t.total=e.data.count}).catch(function(t){console.log(t)})},addShift:function(){this.dialogFormVisible=!0},checkphone:function(t){console.log(t),void 0!=t&&(11!=t.length?this.openVn(\"手机号为11位\"):/^(((13[0-9]{1})|(15[0-9]{1})|(14[0-9]{1})|(13[0-9]{1})|(19[0-9]{1})|(18[0-9]{1})|(17[0-9]{1})|(16[0-9]{1}))+\\d{8})$/.test(t)||this.openVn(\"手机号校验失败\"))},openVn:function(t){var e=this.$createElement;this.$message({message:e(\"p\",null,[e(\"span\",null,t),e(\"\",{style:\"color: teal\"},\"\")])})},cancel:function(){this.dialogFormVisible=!1},addShiftinfo:function(){var t=this;console.log(this.Shiftform),\"\"==this.Shiftform.addlablist?this.openVn(\"请选择送检实验室\"):\"\"==this.Shiftform.batchdate?this.openVn(\"请选择日期\"):\"\"==this.Shiftform.forecast?this.openVn(\"请填写预测量\"):o()({method:\"post\",url:\"https://scldev.coyotebio-lab.com:8443/lislab/basic_data/createpredictDSdata.hn\",params:{labname:this.Shiftform.addlablist,record_date:this.Shiftform.batchdate,estimated_detection_volume:this.Shiftform.forecast,status:this.status}}).then(function(e){console.log(e),\"300\"==e.data.success&&t.$confirm(e.data.msg,\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){t.status=1,t.addShiftinfo()}),0==e.data.success?t.openVn(e.data.msg):1==e.data.success&&(t.openVn(e.data.msg),t.dialogFormVisible=!1,t.getList())}).catch(function(t){console.log(t)})}}}),s=(a(\"/LaX\"),a(\"KHd+\")),n=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",{ref:\"searchObj\",staticClass:\"demo-form-inline\",attrs:{inline:!0,model:t.searchObj}},[a(\"el-form-item\",{attrs:{label:\"送检实验室\"}},[a(\"el-select\",{attrs:{filterable:\"\",clearable:\"\",placeholder:\"请选择实验室\"},model:{value:t.searchObj.lablist,callback:function(e){t.$set(t.searchObj,\"lablist\",e)},expression:\"searchObj.lablist\"}},t._l(t.lablists,function(t){return a(\"el-option\",{key:t.userInfoId,attrs:{clearable:\"\",label:t.realName,value:t.userInfoId}})}))],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"日期\"}},[a(\"el-date-picker\",{attrs:{placeholder:\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:t.searchObj.forecastdate,callback:function(e){t.$set(t.searchObj,\"forecastdate\",e)},expression:\"searchObj.forecastdate\"}})],1),t._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:function(e){t.getList()}}},[t._v(\"查询\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"default\"},on:{click:function(e){t.resetForm(\"searchObj\")}}},[t._v(\"清空\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){t.addShift()}}},[t._v(\"新增大筛数据\")])],1)],1),t._v(\" \"),a(\"el-table\",{attrs:{data:t.list}},[a(\"el-table-column\",{attrs:{label:\"实验室名称\",prop:\"realName\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"日期\",prop:\"record_date\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"预测检测数量/管\",prop:\"estimated_detection_volume\"}}),t._v(\" \"),a(\"el-table-column\",{attrs:{label:\"创建人\",prop:\"create_person\"}})],1),t._v(\" \"),a(\"el-pagination\",{staticStyle:{padding:\"30px 0\",\"text-align\":\"center\"},attrs:{\"current-page\":t.current,\"page-size\":t.limit,total:t.total,layout:\"total, prev, pager, next, jumper\"},on:{\"current-change\":t.getList}}),t._v(\" \"),a(\"el-dialog\",{staticClass:\"dialogcss\",staticStyle:{height:\"100%\"},attrs:{\"close-on-click-modal\":!1,title:\"新增班次\",visible:t.dialogFormVisible,width:\"480px\"},on:{\"update:visible\":function(e){t.dialogFormVisible=e}}},[a(\"el-form\",{attrs:{model:t.Shiftform,\"label-position\":\"right\",\"label-width\":\"120px\"}},[a(\"el-form-item\",{attrs:{label:\"送检实验室\"}},[a(\"el-select\",{staticStyle:{width:\"240px\"},attrs:{clearable:\"\",filterable:\"\",placeholder:\"请选择送检实验室\"},model:{value:t.Shiftform.addlablist,callback:function(e){t.$set(t.Shiftform,\"addlablist\",e)},expression:\"Shiftform.addlablist\"}},t._l(t.lablists,function(t){return a(\"el-option\",{key:t.userInfoId,attrs:{label:t.realName,value:t.userInfoId}})}))],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"日期 \"}},[a(\"el-date-picker\",{staticStyle:{width:\"240px\"},attrs:{placeholder:\"请选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:t.Shiftform.batchdate,callback:function(e){t.$set(t.Shiftform,\"batchdate\",e)},expression:\"Shiftform.batchdate\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"班次\",hidden:\"\"}},[a(\"el-select\",{staticClass:\"batch1\",staticStyle:{width:\"240px\"},attrs:{placeholder:\"请选择班次\"},model:{value:t.Shiftform.batch,callback:function(e){t.$set(t.Shiftform,\"batch\",e)},expression:\"Shiftform.batch\"}},[a(\"el-option\",{attrs:{value:\"08:00:00-20:00:00&A班(08:00:00-20:00:00)\",label:\"A班(08:00:00-20:00:00)\"}}),t._v(\" \"),a(\"el-option\",{attrs:{value:\"20:00:00-08:00:00&B班(20:00:00-次日08:00:00)\",label:\"B班(20:00:00-次日08:00:00)\"}})],1)],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"预测量 \"}},[a(\"el-input\",{staticStyle:{width:\"240px\"},attrs:{placeholder:\"请输入预测量\",type:\"number\"},model:{value:t.Shiftform.forecast,callback:function(e){t.$set(t.Shiftform,\"forecast\",e)},expression:\"Shiftform.forecast\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"负责人姓名 \",hidden:\"\"}},[a(\"el-input\",{staticStyle:{width:\"240px\"},attrs:{placeholder:\"请输入负责人姓名\",maxlength:\"20\"},model:{value:t.Shiftform.charge_person_name,callback:function(e){t.$set(t.Shiftform,\"charge_person_name\",e)},expression:\"Shiftform.charge_person_name\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"负责人手机号 \",hidden:\"\"}},[a(\"el-input\",{staticStyle:{width:\"240px\"},attrs:{placeholder:\"请输入负责人手机号\",maxlength:\"11\",type:\"tel\"},on:{blur:function(e){t.checkphone(t.Shiftform.charge_person_phone)}},model:{value:t.Shiftform.charge_person_phone,callback:function(e){t.$set(t.Shiftform,\"charge_person_phone\",e)},expression:\"Shiftform.charge_person_phone\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"联络人姓名 \",hidden:\"\"}},[a(\"el-input\",{staticStyle:{width:\"240px\"},attrs:{placeholder:\"请输入联络人姓名\",maxlength:\"20\"},model:{value:t.Shiftform.contact_person_name,callback:function(e){t.$set(t.Shiftform,\"contact_person_name\",e)},expression:\"Shiftform.contact_person_name\"}})],1),t._v(\" \"),a(\"el-form-item\",{attrs:{label:\"联络人手机号 \",hidden:\"\"}},[a(\"el-input\",{staticStyle:{width:\"240px\"},attrs:{placeholder:\"请输入联络人手机号\",type:\"tel\",maxlength:\"11\"},on:{blur:function(e){t.checkphone(t.Shiftform.contact_person_phone)}},model:{value:t.Shiftform.contact_person_phone,callback:function(e){t.$set(t.Shiftform,\"contact_person_phone\",e)},expression:\"Shiftform.contact_person_phone\"}})],1)],1),t._v(\" \"),a(\"div\",{staticStyle:{\"text-align\":\"center\"}},[a(\"el-button\",{attrs:{type:\"default\"},on:{click:function(e){t.cancel()}}},[t._v(\"取消\")]),t._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-circle-plus\"},on:{click:function(e){t.addShiftinfo()}}},[t._v(\"新增\")])],1)],1)],1)},[],!1,null,\"37189bde\",null);n.options.__file=\"forecast_DSdefault.vue\";e.default=n.exports},jj74:function(t,e,a){}}]);","extractedComments":[]}