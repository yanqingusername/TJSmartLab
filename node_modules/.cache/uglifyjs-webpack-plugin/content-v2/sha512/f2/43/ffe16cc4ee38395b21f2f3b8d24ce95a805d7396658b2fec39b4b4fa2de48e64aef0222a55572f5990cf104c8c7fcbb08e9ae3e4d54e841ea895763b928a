{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-bba2\"],{KDSz:function(e,t,a){\"use strict\";a.r(t);var r=a(\"ZrS2\"),s={data:function(){return{person:[],CarSet:{personName:\"\",personPhone:\"\",carNum:\"\"},rules:{personName:[{required:!0,message:\"请输入司机姓名\",trigger:\"blur\"}],personPhone:[{required:!0,message:\"请输入司机手机号\",trigger:\"blur\"},{validator:function(e,t,a){0==/^(13[0-9]|14[0-9]|15[0-9]|16[6]|18[0-9]|19[6,9]|17[0-9])\\d{8}$/i.test(t)?a(new Error(\"请输入正确的手机号\")):a()}},{min:11,max:11,message:\"请输入正确手机号\",trigger:\"blur\"}],carNum:[{required:!0,message:\"请输入车牌号\",trigger:\"blur\"}]}}},created:function(){if(this.getAllPerson(),this.$route.params&&this.$route.params.id){var e=this.$route.params.id;console.log(e),this.getCarById(e),console.log(this.CarSet)}else this.CarSet={personName:\"\",personPhone:\"\",carNum:\"\"}},methods:{getPhoneByName:function(){var e=this;r.a.getPhoneByName(this.CarSet).then(function(t){var a=t.data;e.CarSet.personPhone=a,e.$set(e.CarSet,\"personPhone\",a),console.log(e.CarSet.personPhone)})},getAllPerson:function(){var e=this;r.a.getAllPerson().then(function(t){e.person=t.data})},getCarById:function(e){var t=this;r.a.getCarById(e).then(function(e){t.CarSet=e.data,console.log(t.CarSet)})},save:function(){var e=this;r.a.saveCar(this.CarSet).then(function(t){200==t.code?(e.$message({message:\"添加成功\",type:\"success\"}),e.$router.push({path:\"/car/list\"})):201==t.code&&e.$message({message:\"车牌已存在请直接修改\",type:\"error\"})}).catch(function(e){console.log(e)})},update:function(){var e=this;r.a.updateCar(this.CarSet).then(function(t){200==t.code?(e.$message({message:\"修改成功\",type:\"success\"}),e.$router.push({path:\"/car/list\"})):201==t.code&&e.$message({message:\"请勿重复添加车辆\",type:\"error\"})}).catch(function(e){console.log(e)})},saveOrUpdate:function(){this.CarSet.id?this.update():this.save()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log(\"error submit!!!\"),!1;t.saveOrUpdate()})}}},n=a(\"KHd+\"),o=Object(n.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",{ref:\"CarSet\",attrs:{\"label-width\":\"120px\",model:e.CarSet,rules:e.rules}},[a(\"el-form-item\",{staticStyle:{width:\"36%\",\"padding-top\":\"20px\"},attrs:{label:\"司机姓名\",prop:\"personName\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入司机姓名\"},model:{value:e.CarSet.personName,callback:function(t){e.$set(e.CarSet,\"personName\",t)},expression:\"CarSet.personName\"}})],1),e._v(\" \"),a(\"el-form-item\",{staticStyle:{width:\"36%\"},attrs:{label:\"手机号\",prop:\"personPhone\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入手机号\"},model:{value:e.CarSet.personPhone,callback:function(t){e.$set(e.CarSet,\"personPhone\",t)},expression:\"CarSet.personPhone\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"车牌号\",prop:\"carNum\"}},[a(\"el-input\",{staticStyle:{width:\"30%\"},attrs:{placeholder:\"请输入车牌号\"},model:{value:e.CarSet.carNum,callback:function(t){e.$set(e.CarSet,\"carNum\",t)},expression:\"CarSet.carNum\"}})],1),e._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.submitForm(\"CarSet\")}}},[e._v(\"保存\")]),e._v(\" \"),a(\"router-link\",{attrs:{to:\"/car/list\"}},[a(\"el-button\",{attrs:{type:\"primary\"}},[e._v(\"取消\")])],1)],1)],1)],1)},[],!1,null,null,null);o.options.__file=\"add.vue\";t.default=o.exports},ZrS2:function(e,t,a){\"use strict\";var r=a(\"t3Un\");t.a={getList:function(e,t,a){return Object(r.a)({url:\"/admin/classes-car-info/showClassesCarInfo/\"+e+\"/\"+t,method:\"post\",data:a})},getCarById:function(e){return Object(r.a)({url:\"/admin/classes-car-info/getCarById/\"+e,method:\"post\"})},saveCar:function(e){return Object(r.a)({url:\"/admin/classes-car-info/saveCar\",method:\"post\",data:e})},updateCar:function(e){return Object(r.a)({url:\"/admin/classes-car-info/updateCar\",method:\"post\",data:e})},deleteCar:function(e){return Object(r.a)({url:\"/admin/classes-car-info/deleteCar/\"+e,method:\"post\"})},getAllCar:function(){return Object(r.a)({url:\"/admin/classes-car-info/getAllCar\",method:\"get\"})},getCarByCarNum:function(e){return Object(r.a)({url:\"/admin/classes-car-info/getCarByCarNum/\"+e,method:\"post\"})},getAllPerson:function(){return Object(r.a)({url:\"/admin/classes-car-info/getAllPerson\",method:\"get\"})},getPhoneByName:function(e){return Object(r.a)({url:\"/admin/classes-car-info/getPhoneByName\",method:\"post\",data:e})}}}}]);","extractedComments":[]}