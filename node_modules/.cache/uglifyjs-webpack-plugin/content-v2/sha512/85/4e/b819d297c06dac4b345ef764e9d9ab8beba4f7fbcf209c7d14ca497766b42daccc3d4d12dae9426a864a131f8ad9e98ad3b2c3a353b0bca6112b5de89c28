{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-4410\"],{KTTK:function(e,t,n){\"use strict\";var a=n(\"t3Un\");t.a={getChannelNameList:function(){return Object(a.a)({url:\"http://localhost:8070/lis_appointment_war_exploded/admin/channel/getChannelNameList.hn\",method:\"get\"})},getAllCity:function(){return Object(a.a)({url:\"/admin/common/getAllCity\",method:\"post\"})},getAllArea:function(){return Object(a.a)({url:\"/admin/common/getAllArea\",method:\"get\"})},getAllChannel:function(e){return Object(a.a)({url:\"/admin/common/getAllChannel/\"+e,method:\"post\"})},getPhone:function(e){return Object(a.a)({url:\"/admin/common/getPhone\",method:\"get\",params:{samplingLeader:e}})},getAllLab:function(e){return Object(a.a)({url:\"/admin/common/getAllLab/\"+e,method:\"get\"})},getAllLeader:function(){return Object(a.a)({url:\"/admin/common/getAllLeader\",method:\"get\"})},getAllpaytype:function(){return Object(a.a)({url:\"/admin/common/getAllPaytype\",method:\"get\"})},getAllsource:function(){return Object(a.a)({url:\"/admin/common/getAllSource\",method:\"get\"})}}},RnhZ:function(e,t,n){var a={\"./af\":\"K/tc\",\"./af.js\":\"K/tc\",\"./ar\":\"jnO4\",\"./ar-dz\":\"o1bE\",\"./ar-dz.js\":\"o1bE\",\"./ar-kw\":\"Qj4J\",\"./ar-kw.js\":\"Qj4J\",\"./ar-ly\":\"HP3h\",\"./ar-ly.js\":\"HP3h\",\"./ar-ma\":\"CoRJ\",\"./ar-ma.js\":\"CoRJ\",\"./ar-sa\":\"gjCT\",\"./ar-sa.js\":\"gjCT\",\"./ar-tn\":\"bYM6\",\"./ar-tn.js\":\"bYM6\",\"./ar.js\":\"jnO4\",\"./az\":\"SFxW\",\"./az.js\":\"SFxW\",\"./be\":\"H8ED\",\"./be.js\":\"H8ED\",\"./bg\":\"hKrs\",\"./bg.js\":\"hKrs\",\"./bm\":\"p/rL\",\"./bm.js\":\"p/rL\",\"./bn\":\"kEOa\",\"./bn-bd\":\"loYQ\",\"./bn-bd.js\":\"loYQ\",\"./bn.js\":\"kEOa\",\"./bo\":\"0mo+\",\"./bo.js\":\"0mo+\",\"./br\":\"aIdf\",\"./br.js\":\"aIdf\",\"./bs\":\"JVSJ\",\"./bs.js\":\"JVSJ\",\"./ca\":\"1xZ4\",\"./ca.js\":\"1xZ4\",\"./cs\":\"PA2r\",\"./cs.js\":\"PA2r\",\"./cv\":\"A+xa\",\"./cv.js\":\"A+xa\",\"./cy\":\"l5ep\",\"./cy.js\":\"l5ep\",\"./da\":\"DxQv\",\"./da.js\":\"DxQv\",\"./de\":\"tGlX\",\"./de-at\":\"s+uk\",\"./de-at.js\":\"s+uk\",\"./de-ch\":\"u3GI\",\"./de-ch.js\":\"u3GI\",\"./de.js\":\"tGlX\",\"./dv\":\"WYrj\",\"./dv.js\":\"WYrj\",\"./el\":\"jUeY\",\"./el.js\":\"jUeY\",\"./en-au\":\"Dmvi\",\"./en-au.js\":\"Dmvi\",\"./en-ca\":\"OIYi\",\"./en-ca.js\":\"OIYi\",\"./en-gb\":\"Oaa7\",\"./en-gb.js\":\"Oaa7\",\"./en-ie\":\"4dOw\",\"./en-ie.js\":\"4dOw\",\"./en-il\":\"czMo\",\"./en-il.js\":\"czMo\",\"./en-in\":\"7C5Q\",\"./en-in.js\":\"7C5Q\",\"./en-nz\":\"b1Dy\",\"./en-nz.js\":\"b1Dy\",\"./en-sg\":\"t+mt\",\"./en-sg.js\":\"t+mt\",\"./eo\":\"Zduo\",\"./eo.js\":\"Zduo\",\"./es\":\"iYuL\",\"./es-do\":\"CjzT\",\"./es-do.js\":\"CjzT\",\"./es-mx\":\"tbfe\",\"./es-mx.js\":\"tbfe\",\"./es-us\":\"Vclq\",\"./es-us.js\":\"Vclq\",\"./es.js\":\"iYuL\",\"./et\":\"7BjC\",\"./et.js\":\"7BjC\",\"./eu\":\"D/JM\",\"./eu.js\":\"D/JM\",\"./fa\":\"jfSC\",\"./fa.js\":\"jfSC\",\"./fi\":\"gekB\",\"./fi.js\":\"gekB\",\"./fil\":\"1ppg\",\"./fil.js\":\"1ppg\",\"./fo\":\"ByF4\",\"./fo.js\":\"ByF4\",\"./fr\":\"nyYc\",\"./fr-ca\":\"2fjn\",\"./fr-ca.js\":\"2fjn\",\"./fr-ch\":\"Dkky\",\"./fr-ch.js\":\"Dkky\",\"./fr.js\":\"nyYc\",\"./fy\":\"cRix\",\"./fy.js\":\"cRix\",\"./ga\":\"USCx\",\"./ga.js\":\"USCx\",\"./gd\":\"9rRi\",\"./gd.js\":\"9rRi\",\"./gl\":\"iEDd\",\"./gl.js\":\"iEDd\",\"./gom-deva\":\"qvJo\",\"./gom-deva.js\":\"qvJo\",\"./gom-latn\":\"DKr+\",\"./gom-latn.js\":\"DKr+\",\"./gu\":\"4MV3\",\"./gu.js\":\"4MV3\",\"./he\":\"x6pH\",\"./he.js\":\"x6pH\",\"./hi\":\"3E1r\",\"./hi.js\":\"3E1r\",\"./hr\":\"S6ln\",\"./hr.js\":\"S6ln\",\"./hu\":\"WxRl\",\"./hu.js\":\"WxRl\",\"./hy-am\":\"1rYy\",\"./hy-am.js\":\"1rYy\",\"./id\":\"UDhR\",\"./id.js\":\"UDhR\",\"./is\":\"BVg3\",\"./is.js\":\"BVg3\",\"./it\":\"bpih\",\"./it-ch\":\"bxKX\",\"./it-ch.js\":\"bxKX\",\"./it.js\":\"bpih\",\"./ja\":\"B55N\",\"./ja.js\":\"B55N\",\"./jv\":\"tUCv\",\"./jv.js\":\"tUCv\",\"./ka\":\"IBtZ\",\"./ka.js\":\"IBtZ\",\"./kk\":\"bXm7\",\"./kk.js\":\"bXm7\",\"./km\":\"6B0Y\",\"./km.js\":\"6B0Y\",\"./kn\":\"PpIw\",\"./kn.js\":\"PpIw\",\"./ko\":\"Ivi+\",\"./ko.js\":\"Ivi+\",\"./ku\":\"JCF/\",\"./ku.js\":\"JCF/\",\"./ky\":\"lgnt\",\"./ky.js\":\"lgnt\",\"./lb\":\"RAwQ\",\"./lb.js\":\"RAwQ\",\"./lo\":\"sp3z\",\"./lo.js\":\"sp3z\",\"./lt\":\"JvlW\",\"./lt.js\":\"JvlW\",\"./lv\":\"uXwI\",\"./lv.js\":\"uXwI\",\"./me\":\"KTz0\",\"./me.js\":\"KTz0\",\"./mi\":\"aIsn\",\"./mi.js\":\"aIsn\",\"./mk\":\"aQkU\",\"./mk.js\":\"aQkU\",\"./ml\":\"AvvY\",\"./ml.js\":\"AvvY\",\"./mn\":\"lYtQ\",\"./mn.js\":\"lYtQ\",\"./mr\":\"Ob0Z\",\"./mr.js\":\"Ob0Z\",\"./ms\":\"6+QB\",\"./ms-my\":\"ZAMP\",\"./ms-my.js\":\"ZAMP\",\"./ms.js\":\"6+QB\",\"./mt\":\"G0Uy\",\"./mt.js\":\"G0Uy\",\"./my\":\"honF\",\"./my.js\":\"honF\",\"./nb\":\"bOMt\",\"./nb.js\":\"bOMt\",\"./ne\":\"OjkT\",\"./ne.js\":\"OjkT\",\"./nl\":\"+s0g\",\"./nl-be\":\"2ykv\",\"./nl-be.js\":\"2ykv\",\"./nl.js\":\"+s0g\",\"./nn\":\"uEye\",\"./nn.js\":\"uEye\",\"./oc-lnc\":\"Fnuy\",\"./oc-lnc.js\":\"Fnuy\",\"./pa-in\":\"8/+R\",\"./pa-in.js\":\"8/+R\",\"./pl\":\"jVdC\",\"./pl.js\":\"jVdC\",\"./pt\":\"8mBD\",\"./pt-br\":\"0tRk\",\"./pt-br.js\":\"0tRk\",\"./pt.js\":\"8mBD\",\"./ro\":\"lyxo\",\"./ro.js\":\"lyxo\",\"./ru\":\"lXzo\",\"./ru.js\":\"lXzo\",\"./sd\":\"Z4QM\",\"./sd.js\":\"Z4QM\",\"./se\":\"//9w\",\"./se.js\":\"//9w\",\"./si\":\"7aV9\",\"./si.js\":\"7aV9\",\"./sk\":\"e+ae\",\"./sk.js\":\"e+ae\",\"./sl\":\"gVVK\",\"./sl.js\":\"gVVK\",\"./sq\":\"yPMs\",\"./sq.js\":\"yPMs\",\"./sr\":\"zx6S\",\"./sr-cyrl\":\"E+lV\",\"./sr-cyrl.js\":\"E+lV\",\"./sr.js\":\"zx6S\",\"./ss\":\"Ur1D\",\"./ss.js\":\"Ur1D\",\"./sv\":\"X709\",\"./sv.js\":\"X709\",\"./sw\":\"dNwA\",\"./sw.js\":\"dNwA\",\"./ta\":\"PeUW\",\"./ta.js\":\"PeUW\",\"./te\":\"XLvN\",\"./te.js\":\"XLvN\",\"./tet\":\"V2x9\",\"./tet.js\":\"V2x9\",\"./tg\":\"Oxv6\",\"./tg.js\":\"Oxv6\",\"./th\":\"EOgW\",\"./th.js\":\"EOgW\",\"./tk\":\"Wv91\",\"./tk.js\":\"Wv91\",\"./tl-ph\":\"Dzi0\",\"./tl-ph.js\":\"Dzi0\",\"./tlh\":\"z3Vd\",\"./tlh.js\":\"z3Vd\",\"./tr\":\"DoHr\",\"./tr.js\":\"DoHr\",\"./tzl\":\"z1FC\",\"./tzl.js\":\"z1FC\",\"./tzm\":\"wQk9\",\"./tzm-latn\":\"tT3J\",\"./tzm-latn.js\":\"tT3J\",\"./tzm.js\":\"wQk9\",\"./ug-cn\":\"YRex\",\"./ug-cn.js\":\"YRex\",\"./uk\":\"raLr\",\"./uk.js\":\"raLr\",\"./ur\":\"UpQW\",\"./ur.js\":\"UpQW\",\"./uz\":\"Loxo\",\"./uz-latn\":\"AQ68\",\"./uz-latn.js\":\"AQ68\",\"./uz.js\":\"Loxo\",\"./vi\":\"KSF8\",\"./vi.js\":\"KSF8\",\"./x-pseudo\":\"/X5v\",\"./x-pseudo.js\":\"/X5v\",\"./yo\":\"fzPg\",\"./yo.js\":\"fzPg\",\"./zh-cn\":\"XDpg\",\"./zh-cn.js\":\"XDpg\",\"./zh-hk\":\"SatO\",\"./zh-hk.js\":\"SatO\",\"./zh-mo\":\"OmwH\",\"./zh-mo.js\":\"OmwH\",\"./zh-tw\":\"kOpN\",\"./zh-tw.js\":\"kOpN\"};function s(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error(\"Cannot find module '\"+e+\"'\");throw n.code=\"MODULE_NOT_FOUND\",n}return t}s.keys=function(){return Object.keys(a)},s.resolve=i,e.exports=s,s.id=\"RnhZ\"},ZUS6:function(e,t,n){\"use strict\";var a=n(\"wd/R\"),s=n.n(a);t.a={getToday:function(){var e={starttime:\"\",endtime:\"\"};return e.starttime=s()(s()().startOf(\"day\").valueOf()).format(\"YYYY-MM-DD \"),e.endtime=s()(s()().valueOf()).format(\"YYYY-MM-DD \"),e},getYesterday:function(){var e={starttime:\"\",endtime:\"\"};return e.starttime=s()(s()().add(-1,\"days\").startOf(\"day\").valueOf()).format(\"YYYY-MM-DD HH:mm:ss\"),e.endtime=s()(s()().add(-1,\"days\").endOf(\"day\").valueOf()).format(\"YYYY-MM-DD HH:mm:ss\"),e},getCurrWeekDays:function(){var e={starttime:\"\",endtime:\"\"};return e.starttime=s()(s()().week(s()().week()).startOf(\"week\").add(1,\"days\").valueOf()).format(\"YYYY-MM-DD HH:mm:ss\"),e.endtime=s()(s()().week(s()().week()).endOf(\"week\").add(1,\"days\").valueOf()).format(\"YYYY-MM-DD HH:mm:ss\"),e},getLastWeekDays:function(){var e={starttime:\"\",endtime:\"\"};return e.starttime=s()(s()().week(s()().week()-1).startOf(\"week\").add(1,\"days\").valueOf()).format(\"YYYY-MM-DD HH:mm:ss\"),e.endtime=s()(s()().week(s()().week()-1).endOf(\"week\").add(1,\"days\").valueOf()).format(\"YYYY-MM-DD HH:mm:ss\"),e},getCurrMonthDays:function(){var e={starttime:\"\",endtime:\"\"};return e.starttime=s()(s()().month(s()().month()).startOf(\"month\").valueOf()).format(\"YYYY-MM-DD\"),e.endtime=s()(s()().month(s()().month()).endOf(\"month\").valueOf()).format(\"YYYY-MM-DD\"),e},getLastMonthDays:function(){var e={starttime:\"\",endtime:\"\"};return e.starttime=s()(s()().month(s()().month()-1).startOf(\"month\").valueOf()).format(\"YYYY-MM-DD \"),e.endtime=s()(s()().month(s()().month()-1).endOf(\"month\").valueOf()).format(\"YYYY-MM-DD \"),e},getNextMonthDays:function(){var e={starttime:\"\",endtime:\"\"};return e.starttime=s()(s()().month(s()().month()+1).startOf(\"month\").valueOf()).format(\"YYYY-MM-DD \"),e.endtime=s()(s()().month(s()().month()+1).endOf(\"month\").valueOf()).format(\"YYYY-MM-DD \"),e}}},gz5C:function(e,t,n){\"use strict\";var a=n(\"pp1r\");n.n(a).a},i9dY:function(e,t,n){\"use strict\";var a=n(\"t3Un\");t.a={getPointList:function(e){return Object(a.a)({url:\"/admin/channel/findPageChannel/\",method:\"post\",data:e})},getschlist:function(e,t){return Object(a.a)({url:\"/admin/schchannel/findPageChannel/\"+e+\"/\"+t,method:\"post\",data:e,shabi:t})},getChannelTime:function(e){return Object(a.a)({url:\"/admin/schchannel/getChannelSch/\"+e,method:\"post\",data:e})},export:function(e){return Object(a.a)({url:\"/admin/schchannel/exportSch\",method:\"post\",data:e})},savechannelsch:function(e,t){return Object(a.a)({url:\"/admin/schchannel/saveChannelSch/\"+t,method:\"post\",data:e})},deletePoint:function(e,t){return Object(a.a)({url:\"/admin/channel/deletePoint/\"+e+\"/\"+t,method:\"delete\"})},updatePoint:function(e){return Object(a.a)({url:\"/admin/channel/updatePoint\",method:\"post\",data:e})},savePoint:function(e){return Object(a.a)({url:\"/admin/channel/savePoint\",method:\"post\",data:e})},getChannelName:function(e){return Object(a.a)({url:\"/admin/schchannel/getName/\"+e,method:\"post\",data:e})},getPoint:function(e){return Object(a.a)({url:\"/admin/channel/findPointById/\"+e,method:\"get\"})},saveSchedule:function(e){return Object(a.a)({url:\"/admin/channelsch/saveSchedule\",method:\"post\",data:e})},updateSch:function(e){return Object(a.a)({url:\"/admin/channelsch/updateSchedule\",method:\"post\",data:e})},updatebyvalue:function(e,t){return Object(a.a)({url:\"/admin/channel/updatebyvalue/\"+e+\"/\"+t,method:\"post\",data:e,endTime:t})}}},mAvL:function(e,t,n){\"use strict\";n.r(t);var a=n(\"i9dY\"),s=n(\"KTTK\"),i=n(\"ZUS6\"),l=n(\"X4fA\"),o={data:function(){return{selectA:null,selectB:null,selectC:null,selectD:null,chosen:\"\",shabi:\"\",currentPage:1,pageSize:5,current:0,limit:7,searchObj:{channelId:\"\"},channelId:\"\",list:[],total:0,channelList:[],tableDates:[],choseTimeHour:{endTime:\"\"},TimeList:[],TimeList1:[],DateList:[],ScheduleVo:[],ScheduleVoChild:[],channelSchlist:[],channelName:\"\",choose:\"\",dialogImportVisible:!1,rules1:{channelId:[{required:!1,message:\"请输入采样点名称\",trigger:\"change\"}]}}},created:function(){if(this.$route.query&&this.$route.query.channelId){var e=this.$route.query.channelId,t=this.$route.query.chosen;this.chosen=t,this.searchObj.channelId=e}else this.searchObj.channelId=\"\";this.getChannel(),this.getlist()},resetForm:function(e){this.$refs[e].resetFields(),this.dialogFormVisible=!1},methods:{importData:function(){this.dialogImportVisible=!0},exportToExcel:function(){var e=document.getElementById(\"out-table\"),t=this.$XLSX.utils.table_to_book(e),n=this.$XLSX.write(t,{bookType:\"xlsx\",bookSST:!0,type:\"array\"});try{this.$FileSaver.saveAs(new Blob([n],{type:\"application/octet-stream\"}),\"sheetjs.xlsx\")}catch(e){\"undefined\"!=typeof console&&console.log(e,n)}return n},onUploadSuccess:function(){this.dialogImportVisible=!1,this.getlist()},handleSizeChange:function(e){console.log(\"每页 \"+e+\" 条\"),this.currentPage=1,this.pageSize=e},handleCurrentChange:function(e){console.log(\"当前页: \"+e),this.currentPage=e,this.list=this.tableDates.slice((this.currentPage-1)*this.pageSize,this.currentPage*this.pageSize)},queryHourData:function(){this.TimeList=[],this.TimeList.push({label:\"人员\",prop:\"姓名\",phone:\"phone\",dutyType:\"dutyType\",functionType:\"functionType\"});for(var e=this.choseTimeHour.endTime[0],t=this.choseTimeHour.endTime[1],n=e.getTime(),a=t.getTime();n<=a;n+=864e5){var s,i=(s=new Date(n)).getFullYear()+\"-\",l=s.getFullYear()+\"-\";s.getMonth()+1<10?l+=\"0\"+(s.getMonth()+1)+\"-\":l+=s.getMonth()+1+\"-\",s.getDate()<10?l+=\"0\"+s.getDate():l+=s.getDate();var i=s.getFullYear()+\"-\";s.getMonth()+1<10?i+=\"0\"+(s.getMonth()+1)+\"-\":i+=s.getMonth()+1+\"-\",s.getDate()<10?i+=\"0\"+s.getDate():i+=s.getDate();var o=new Array(7);o[0]=\"日\",o[1]=\"一\",o[2]=\"二\",o[3]=\"三\",o[4]=\"四\",o[5]=\"五\",o[6]=\"六\",l+=\"\\n星期\"+o[s.getDay()];var r,c,h=(r=new Date).getFullYear()+\"-\";h+=r.getMonth()+1+\"-\",h+=r.getDate(),c=(c=new Date(h)).getTime(),new Date(i).getTime()>=c?this.TimeList.push({label:l,prop:i,edit:!0}):this.TimeList.push({label:l,prop:i,edit:!1})}},gesDate:function(){this.selectA=!1,this.selectB=!0,this.selectC=!0,this.selectD=!0,this.choose=\"本周\",this.TimeList=[];var e=new Date,t=e.getDay(),n=(e.getMonth(),0!==t?t-1:6),a=new Date(e.getTime()-864e5*n),s=a.getFullYear()+\"-\";s+=a.getMonth()+1+\"-\",s+=a.getDate();var i=new Date,l=i.getDay(),o=0!==l?l-1:6,r=new Date(i.getTime()-864e5*o),c=new Date(r.getTime()+5184e5),h=c.getFullYear()+\"-\";h+=c.getMonth()+1+\"-\",h+=c.getDate(),this.choseTimeHour.endTime=[s,h],this.TimeList.push({label:\"人员\",prop:\"姓名\",phone:\"phone\",dutyType:\"dutyType\",functionType:\"functionType\"});for(var u=c,m=a.getTime(),d=u.getTime();m<=d;m+=864e5){var g,s=(g=new Date(m)).getFullYear()+\"-\";g.getMonth()+1<10?s+=\"0\"+(g.getMonth()+1)+\"-\":s+=g.getMonth()+1+\"-\",g.getDate()<10?s+=\"0\"+g.getDate():s+=g.getDate();var h=g.getFullYear()+\"-\";g.getMonth()+1<10?h+=\"0\"+(g.getMonth()+1)+\"-\":h+=g.getMonth()+1+\"-\",g.getDate()<10?h+=\"0\"+g.getDate():h+=g.getDate();var p=new Array(7);p[0]=\"日\",p[1]=\"一\",p[2]=\"二\",p[3]=\"三\",p[4]=\"四\",p[5]=\"五\",p[6]=\"六\",s+=\"\\n星期\"+p[g.getDay()];var f,v,j=(f=new Date).getFullYear()+\"-\";j+=f.getMonth()+1+\"-\",j+=f.getDate(),v=(v=new Date(j)).getTime(),new Date(h).getTime()>=v?this.TimeList.push({label:s,prop:h,edit:!0}):this.TimeList.push({label:s,prop:h,edit:!1})}console.log(\"5555555555555555555555555557\"),console.log(this.TimeList)},getmonth:function(){var e=this;this.selectA=!0,this.selectB=!1,this.selectC=!0,this.selectD=!0,this.choose=\"本月\",this.TimeList=[];var t=new Date,n=t.getMonth(),a=i.a.getCurrMonthDays().starttime,s=a;if(1==n||3==n||5==n||7==n||8==n||10==n||12==n);else if(4==n||6==n||9==n||11==n);else if(this.isLeapYear(t.getFullYear()));else;var l=i.a.getCurrMonthDays().endtime;console.log(\"本月最后一天是\"+l);var o=l;this.choseTimeHour.endTime=[s,o],this.TimeList.push({label:\"人员\",prop:\"姓名\",phone:\"phone\",dutyType:\"dutyType\",functionType:\"functionType\"});for(var r=new Date(a),c=new Date(l),h=r.getTime(),u=c.getTime();h<=u;h+=864e5){var m,s=(m=new Date(h)).getFullYear()+\"-\";m.getMonth()<10?s+=\"0\"+(m.getMonth()+1)+\"-\":s+=m.getMonth()+1+\"-\",m.getDate()<10?s+=\"0\"+m.getDate():s+=m.getDate();var o=m.getFullYear()+\"-\";m.getMonth()<10?o+=\"0\"+(m.getMonth()+1)+\"-\":o+=m.getMonth()+1+\"-\",m.getDate()<10?o+=\"0\"+m.getDate():o+=m.getDate();var d=new Array(7);d[0]=\"日\",d[1]=\"一\",d[2]=\"二\",d[3]=\"三\",d[4]=\"四\",d[5]=\"五\",d[6]=\"六\",s+=\"\\n星期\"+d[m.getDay()];var g,p=(g=new Date).getFullYear()+\"-\";p+=g.getMonth()+1+\"-\",p+=g.getDate();var f=new Date(p);f=f.getTime();var v=new Date(o);(v=v.getTime())>=f?this.TimeList.push({label:s,prop:o,edit:!0}):this.TimeList.push({label:s,prop:o,edit:!1})}this.DateList=[],this.TimeList.forEach(function(t){e.DateList.push(t.prop)}),this.DateList=this.DateList.join(\",\")},getbeforemonth:function(){this.selectA=!0,this.selectB=!0,this.selectC=!1,this.selectD=!0,this.choose=\"上月\",this.TimeList=[];var e=i.a.getLastMonthDays().starttime,t=i.a.getLastMonthDays().endtime,n=e,a=t;this.choseTimeHour.endTime=[n,a],this.TimeList.push({label:\"人员\",prop:\"姓名\",phone:\"phone\",dutyType:\"dutyType\",functionType:\"functionType\"});for(var s=new Date(e),l=new Date(t),o=s.getTime(),r=l.getTime();o<=r;o+=864e5){var c,n=(c=new Date(o)).getFullYear()+\"-\";c.getMonth()<10?n+=\"0\"+(c.getMonth()+1)+\"-\":n+=c.getMonth()+1+\"-\",c.getDate()<10?n+=\"0\"+c.getDate():n+=c.getDate();var a=c.getFullYear()+\"-\";c.getMonth()<10?a+=\"0\"+(c.getMonth()+1)+\"-\":a+=c.getMonth()+1+\"-\",c.getDate()<10?a+=\"0\"+c.getDate():a+=c.getDate();var h=new Array(7);h[0]=\"日\",h[1]=\"一\",h[2]=\"二\",h[3]=\"三\",h[4]=\"四\",h[5]=\"五\",h[6]=\"六\",n+=\"\\n星期\"+h[c.getDay()];var u,m,d=(u=new Date).getFullYear()+\"-\";d+=u.getMonth()+1+\"-\",d+=u.getDate(),m=(m=new Date(d)).getTime(),new Date(a).getTime()>=m?this.TimeList.push({label:n,prop:a,edit:!0}):this.TimeList.push({label:n,prop:a,edit:!1})}},getnextmonth:function(){this.selectA=!0,this.selectB=!0,this.selectC=!0,this.selectD=!1,this.choose=\"下月\",this.TimeList=[];var e=i.a.getNextMonthDays().starttime,t=i.a.getNextMonthDays().endtime,n=e,a=t;this.choseTimeHour.endTime=[n,a],this.TimeList.push({label:\"人员\",prop:\"姓名\",phone:\"phone\",dutyType:\"dutyType\",functionType:\"functionType\"});for(var s=new Date(e),l=new Date(t),o=s.getTime(),r=l.getTime();o<=r;o+=864e5){var c,n=(c=new Date(o)).getFullYear()+\"-\";c.getMonth()<10?n+=\"0\"+(c.getMonth()+1)+\"-\":n+=c.getMonth()+1+\"-\",c.getDate()<10?n+=\"0\"+c.getDate():n+=c.getDate();var a=c.getFullYear()+\"-\";c.getMonth()<10?a+=\"0\"+(c.getMonth()+1)+\"-\":a+=c.getMonth()+1+\"-\",c.getDate()<10?a+=\"0\"+c.getDate():a+=c.getDate();var h=new Array(7);h[0]=\"日\",h[1]=\"一\",h[2]=\"二\",h[3]=\"三\",h[4]=\"四\",h[5]=\"五\",h[6]=\"六\",n+=\"\\n星期\"+h[c.getDay()];var u,m,d=(u=new Date).getFullYear()+\"-\";d+=u.getMonth()+1+\"-\",d+=u.getDate(),m=(m=new Date(d)).getTime(),new Date(a).getTime()>=m?this.TimeList.push({label:n,prop:a,edit:!0}):this.TimeList.push({label:n,prop:a,edit:!1})}},getName:function(){var e=this;a.a.getChannelName(this.searchObj.channelId).then(function(t){e.channelName=t.data})},getlist:function(){var e=this;this.getChannelSch();a.a.getschlist(this.searchObj.channelId,\"1\").then(function(t){console.log(t),e.tableDates=t.data.records,e.total=t.data.total,e.list=e.tableDates.slice((e.currentPage-1)*e.pageSize,e.currentPage*e.pageSize)}),this.getName(),this.channelId=this.searchObj.channelId},getChannel:function(){var e=this;s.a.getAllChannel(Object(l.a)()).then(function(t){e.channelList=t.data}).catch(function(e){console.log(e)})},getCurrentCell:function(e,t,n,a){this.currentDate=e,this.currentColumn=t,this.currentData=n,this.content=a;for(var s=0;s<this.ScheduleVo.length;s++)this.ScheduleVo[s].name==this.currentData.姓名&&this.ScheduleVo[s].datetime==this.currentDate&&this.ScheduleVo.splice(s,1);this.ScheduleVo.push({functionPersonName:this.currentData.姓名,channelDay:this.currentDate,channelTime:this.content})},getChannelSch:function(){var e=this;a.a.getChannelTime(this.searchObj.channelId).then(function(t){console.log(t),e.channelSchlist=t.data})},save:function(){var e=this;a.a.savechannelsch(this.ScheduleVo,this.searchObj.channelId).then(function(t){200==t.code?(e.$message({type:\"success\",message:\"保存成功\"}),e.$router.push({path:\"/point/paiban/:channlId\",query:{channelId:e.searchObj.channelId}})):e.$message({message:\"保存失败\",type:\"error\"})})},cellClick:function(e,t,n,a){for(var s=this,i=0;i<document.getElementsByClassName(\"current-cell\").length;i++)document.getElementsByClassName(\"current-cell\")[i].classList.remove(\"current-cell\");n.classList.add(\"current-cell\"),this.$refs.tableInput&&this.$nextTick(function(){s.$refs.tableInput[0].focus()})},removeClass:function(){document.getElementsByClassName(\"current-cell\")[0].classList.remove(\"current-cell\")},submitForm:function(){},resolveData:function(){},resetForm:function(e){this.$refs[e].resetFields(),this.dialogFormVisible=!1}},mounted:function(){\"A\"==this.chosen?this.gesDate():\"B\"==this.chosen?this.getmonth():\"D\"==this.chosen?this.getnextmonth():this.getbeforemonth()}},r=(n(\"gz5C\"),n(\"KHd+\")),c=Object(r.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"el-card\",[n(\"el-form\",{ref:\"searchObj\",staticClass:\"demo-form-inline\",attrs:{inline:!0,model:e.searchObj,rules:e.rules1}},[n(\"el-form-item\",{attrs:{label:\"采集点名称\",prop:\"channelId\"}},[n(\"el-select\",{attrs:{filterable:\"\",clearable:\"\",placeholder:\"请选择采集点\"},model:{value:e.searchObj.channelId,callback:function(t){e.$set(e.searchObj,\"channelId\",t)},expression:\"searchObj.channelId\"}},e._l(e.channelList,function(e){return n(\"el-option\",{key:e.id,attrs:{label:e.channelName,value:e.channelId}})})),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\",plain:e.selectA},on:{click:function(t){e.gesDate()}}},[e._v(\"本周\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\",plain:e.selectB},on:{click:function(t){e.getmonth()}}},[e._v(\"本月\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\",plain:e.selectC},on:{click:function(t){e.getbeforemonth()}}},[e._v(\"上月\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"primary\",plain:e.selectD},on:{click:function(t){e.getnextmonth()}}},[e._v(\"下月\")]),e._v(\" \"),n(\"el-form-item\",{attrs:{label:\"指定日期\"}},[n(\"el-date-picker\",{attrs:{type:\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},on:{change:e.queryHourData},model:{value:e.choseTimeHour.endTime,callback:function(t){e.$set(e.choseTimeHour,\"endTime\",t)},expression:\"choseTimeHour.endTime\"}})],1)],1)],1),e._v(\" \"),n(\"el-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"primary\",icon:\"el-icon-search\",plain:\"\"},on:{click:function(t){e.getlist()}}},[e._v(\"查询\")]),e._v(\" \"),n(\"el-button\",{attrs:{type:\"default\"},on:{click:function(t){e.resetForm(\"searchObj\")}}},[e._v(\"清空\")])],1),e._v(\" \"),n(\"el-card\",[n(\"div\",[n(\"el-form\",{attrs:{inline:!0}},[n(\"el-form-item\",[n(\"el-button\",{attrs:{type:\"primary\",size:\"small\"},on:{click:function(t){e.save()}}},[e._v(\"保存排班 \")]),e._v(\" \"),n(\"span\",{staticClass:\"choose\"},[e._v(\"已选择:\"+e._s(this.channelName)+\" \"+e._s(this.choose))])],1)],1)],1),e._v(\" \"),n(\"el-dialog\",{attrs:{title:\"导入\",visible:e.dialogImportVisible,width:\"480px\"},on:{\"update:visible\":function(t){e.dialogImportVisible=t}}},[n(\"el-form\",{attrs:{\"label-position\":\"right\",\"label-width\":\"170px\"}},[n(\"el-form-item\",{attrs:{label:\"文件\"}},[n(\"el-upload\",{staticClass:\"upload-demo\",attrs:{multiple:!1,\"on-success\":e.onUploadSuccess,action:\"http://localhost:8201/admin/person/importPerson\"}},[n(\"el-button\",{attrs:{size:\"small\",type:\"primary\"}},[e._v(\"点击上传\")]),e._v(\" \"),n(\"div\",{staticClass:\"el-upload__tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\"\\n              只能上传excel文件,且不超过500kb\\n            \")])],1)],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(t){e.dialogImportVisible=!1}}},[e._v(\" 取消 \")])],1)],1),e._v(\" \"),n(\"div\",{staticClass:\"tableDiv\"},[n(\"el-table\",{staticClass:\"table\",attrs:{id:\"out-table\",data:e.list,border:\"\",\"highlight-current-row\":\"\"},on:{\"cell-click\":e.cellClick}},[e._l(e.TimeList,function(t,a){return[n(\"el-table-column\",{key:a,attrs:{prop:t.prop,label:t.label,align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(s){return[n(\"p\",[e._v(e._s(e.list[s.$index][t.prop]))]),e._v(\" \"),0==e.list[s.$index][t.dutyType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"组长\")]):e._e(),e._v(\" \"),1==e.list[s.$index][t.dutyType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"站长\")]):e._e(),e._v(\" \"),2==e.list[s.$index][t.dutyType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"运营经理\")]):e._e(),e._v(\" \"),3==e.list[s.$index][t.dutyType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"运输负责人\")]):e._e(),e._v(\" \"),4==e.list[s.$index][t.dutyType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"班长\")]):e._e(),e._v(\" \"),5==e.list[s.$index][t.dutyType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"负责人\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&0==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"护士\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&1==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"登记\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&2==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"样本转运\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&3==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"外围\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&4==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"运输样本司机\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&5==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"试剂配制\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&6==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"样本制备\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&7==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"扩增\")]):e._e(),e._v(\" \"),-1==e.list[s.$index][t.dutyType]&&8==e.list[s.$index][t.functionType]?n(\"p\",{staticClass:\"ex1\"},[e._v(\"样本接收\")]):e._e(),e._v(\" \"),n(\"el-tooltip\",{staticClass:\"item\",attrs:{effect:\"dark\",content:e.list[s.$index][t.phone],placement:\"right\"}},[0==a?n(\"i\",{staticClass:\"el-icon-phone\"}):e._e()]),e._v(\" \"),t.edit?n(\"el-select\",{ref:\"tableInput\",refInFor:!0,attrs:{size:\"small\",placeholder:\"请选择班次\",clearable:\"\"},on:{blur:e.removeClass,change:function(n){e.getCurrentCell(t.prop,s.$index,s.row,s.row[t.prop])}},model:{value:s.row[t.prop],callback:function(n){e.$set(s.row,t.prop,n)},expression:\"scope.row[item.prop]\"}},e._l(e.channelSchlist,function(e){return n(\"el-option\",{key:e.id,attrs:{label:e.classesName+\"(\"+e.classesTime+\")\",value:e.classesTime}})})):e._e()]}}])})]})],2),e._v(\" \"),n(\"div\",{staticClass:\"block\",staticStyle:{\"margin-top\":\"15px\"}},[n(\"el-pagination\",{attrs:{align:\"center\",\"current-page\":e.currentPage,\"page-sizes\":[1,5,10,20],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)],1)],1)],1)},[],!1,null,\"0954f685\",null);c.options.__file=\"addpanban.vue\";t.default=c.exports},pp1r:function(e,t,n){}}]);","extractedComments":[]}