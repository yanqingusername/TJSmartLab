{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"chunk-074c\"],{KTTK:function(e,t,a){\"use strict\";var s=a(\"t3Un\");t.a={getChannelNameList:function(){return Object(s.a)({url:\"http://localhost:8070/lis_appointment_war_exploded/admin/channel/getChannelNameList.hn\",method:\"get\"})},getAllCity:function(){return Object(s.a)({url:\"/admin/common/getAllCity\",method:\"post\"})},getAllArea:function(){return Object(s.a)({url:\"/admin/common/getAllArea\",method:\"get\"})},getAllChannel:function(e){return Object(s.a)({url:\"/admin/common/getAllChannel/\"+e,method:\"post\"})},getPhone:function(e){return Object(s.a)({url:\"/admin/common/getPhone\",method:\"get\",params:{samplingLeader:e}})},getAllLab:function(e){return Object(s.a)({url:\"/admin/common/getAllLab/\"+e,method:\"get\"})},getAllLeader:function(){return Object(s.a)({url:\"/admin/common/getAllLeader\",method:\"get\"})},getAllpaytype:function(){return Object(s.a)({url:\"/admin/common/getAllPaytype\",method:\"get\"})},getAllsource:function(){return Object(s.a)({url:\"/admin/common/getAllSource\",method:\"get\"})}}},R7wM:function(e,t,a){\"use strict\";var s=a(\"t3Un\");t.a={getSampleListInfo:function(e,t,a){return Object(s.a)({url:\"/admin/classes-sample-info/showSampleListInfo/\"+e+\"/\"+t,method:\"post\",data:a})},getList:function(e,t,a){return Object(s.a)({url:\"/admin/classes-car-info/showClassesCarInfo/\"+e+\"/\"+t,method:\"post\",data:a})},getCarById:function(e){return Object(s.a)({url:\"/admin/classes-car-info/getCarById/\"+e,method:\"post\"})},saveCar:function(e){return Object(s.a)({url:\"/admin/classes-car-info/saveCar\",method:\"post\",data:e})},updateCar:function(e){return Object(s.a)({url:\"/admin/classes-car-info/updateCar\",method:\"post\",data:e})},deleteCar:function(e){return Object(s.a)({url:\"/admin/classes-car-info/deleteCar/\"+e,method:\"post\"})},getAllCar:function(){return Object(s.a)({url:\"/admin/classes-car-info/getAllCar\",method:\"get\"})},getCarByCarNum:function(e){return Object(s.a)({url:\"/admin/classes-car-info/getCarByCarNum/\"+e,method:\"post\"})},getAllPerson:function(){return Object(s.a)({url:\"/admin/classes-car-info/getAllPerson\",method:\"get\"})},getPhoneByName:function(e){return Object(s.a)({url:\"/admin/classes-car-info/getPhoneByName\",method:\"post\",data:e})}}},\"V/L/\":function(e,t,a){\"use strict\";a.r(t);var s=a(\"YEIV\"),i=a.n(s),l=a(\"R7wM\"),r=(a(\"KTTK\"),a(\"vDqi\")),n=a.n(r),c={data:function(){var e;return e={checked1:0,box_num:\"\",batch_status:[{value:\"0\",label:\"已上传结果\"},{value:\"1\",label:\"未上传结果\"}],value:\"\",test_type:[{value:\"0\",label:\"普通12小时检测\"},{value:\"1\",label:\"加急6-8小时检测\"}]},i()(e,\"value\",\"\"),i()(e,\"lislab\",[{value:\"YiJianSuo\",label:\"医检所实验室\"},{value:\"BeiJingXiZhan\",label:\"北京西站方舱实验室\"},{value:\"BeiJingNanZhan\",label:\"北京南站方舱实验室\"},{value:\"ZhongRi\",label:\"中日友好医院\"},{value:\"BoRen\",label:\"博仁方舱实验室\"}]),i()(e,\"value\",\"\"),i()(e,\"sample\",[]),i()(e,\"channelList\",[]),i()(e,\"current\",1),i()(e,\"limit\",7),i()(e,\"searchObj\",{}),i()(e,\"list\",[]),i()(e,\"total\",0),i()(e,\"multipleSelection\",[]),i()(e,\"batch_number\",\"\"),i()(e,\"batch_number_str\",\"\"),i()(e,\"url1\",\"http://localhost:8070/lislab_war_exploded\"),e},created:function(){this.getResultSampleListInfo(),this.getChannel()},methods:{toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},resetForm:function(e){this.$refs[e].resetFields(),this.getSampleListInfo()},getBatchNumber:function(){this.batch_number=this.multipleSelection[0].batch_number,this.$router.push({path:\"/sample/detail\",query:{batch_number:this.batch_number}})},getChannel:function(){var e=this;n()({method:\"get\",url:this.url1+\"/admin/channel/getChannelNameList.hn\"}).then(function(t){e.channelList=t.data.channel_array}).catch(function(e){console.log(e)})},timeFormat1:function(e){var t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a=\"0\"+a);var s=e.getDate();s<10&&(s=\"0\"+s);var i=e.getHours();i<10&&(i=\"0\"+i);var l=e.getMinutes();l<10&&(l=\"0\"+l);var r=e.getSeconds();return r<10&&(r=\"0\"+r),t+\"-\"+a+\"-\"+s+\" \"+i+\":\"+l+\":\"+r},getResultSampleListInfo:function(e){var t=this;this.current=e,void 0!=this.searchObj.receive_starttime&&(this.searchObj.receive_starttime=this.timeFormat1(this.searchObj.receive_starttime)),void 0!=this.searchObj.receive_endtime&&(this.searchObj.receive_endtime=this.timeFormat1(this.searchObj.receive_endtime)),void 0!=this.searchObj.lislab_starttime&&(this.searchObj.lislab_starttime=this.timeFormat1(this.searchObj.lislab_starttime)),void 0!=this.searchObj.lislab_endtime&&(this.searchObj.lislab_endtime=this.timeFormat1(this.searchObj.lislab_endtime)),void 0!=this.searchObj.machine_starttime&&(this.searchObj.machine_starttime=this.timeFormat1(this.searchObj.machine_starttime)),void 0!=this.searchObj.machine_endtime&&(this.searchObj.machine_endtime=this.timeFormat1(this.searchObj.machine_endtime)),console.log(this.multipleSelection+\"------------------------------------\"),n()({method:\"get\",url:this.url1+\"/sampleCenter/getResultSampleInfo.hn\",params:{page:this.current,limit:this.limit,checked:this.checked1,batch_number:this.searchObj.batch_number,channel_id:this.searchObj.channel_id,sample_id:this.searchObj.sample_id,batch_status:this.searchObj.batch_status,company_serial:this.searchObj.company_serial,lab_sample_status:this.searchObj.lab_sample_status,lislab_starttime:this.searchObj.machine_starttime,lislab_endtime:this.searchObj.machine_endtime,receive_starttime:this.searchObj.receive_starttime,receive_endtime:this.searchObj.receive_endtime}}).then(function(e){t.list=e.data.result,t.total=e.data.total}).catch(function(e){console.log(e)})},exportReceiveSampleData:function(){if(void 0!=this.searchObj.receive_starttime&&\"\"!=this.searchObj.receive_starttime&&(this.searchObj.receive_starttime=this.timeFormat1(this.searchObj.receive_starttime)),void 0!=this.searchObj.receive_endtime&&\"\"!=this.searchObj.receive_endtime&&(this.searchObj.receive_endtime=this.timeFormat1(this.searchObj.receive_endtime)),void 0!=this.searchObj.lislab_starttime&&\"\"!=this.searchObj.lislab_starttime&&(this.searchObj.lislab_starttime=this.timeFormat1(this.searchObj.lislab_starttime)),void 0!=this.searchObj.lislab_endtime&&\"\"!=this.searchObj.lislab_endtime&&(this.searchObj.lislab_endtime=this.timeFormat1(this.searchObj.lislab_endtime)),console.log(this.multipleSelection+\"------------------------------------\"),void 0==this.searchObj.batch_number&&(this.searchObj.batch_number=\"\"),void 0==this.searchObj.channel_id&&(this.searchObj.channel_id=\"\"),void 0==this.searchObj.lab_sample_status&&(this.searchObj.lab_sample_status=\"\"),void 0==this.searchObj.lislab_starttime&&(this.searchObj.lislab_starttime=\"\"),void 0==this.searchObj.lislab_endtime&&(this.searchObj.lislab_endtime=\"\"),void 0==this.searchObj.receive_starttime&&(this.searchObj.receive_starttime=\"\"),void 0==this.searchObj.receive_endtime&&(this.searchObj.receive_endtime=\"\"),void 0==this.searchObj.sample_id&&(this.searchObj.sample_id=\"\"),void 0==this.searchObj.company_serial&&(this.searchObj.company_serial=\"\"),this.multipleSelection.length>0)for(var e=0;e<this.multipleSelection.length;e++)e==this.multipleSelection.length-1?this.batch_number_str+=this.multipleSelection[e].batch_number:this.batch_number_str+=this.multipleSelection[e].batch_number+\",\";var t=this.url1+\"/sampleCenter/exportResultSampleInfo.hn\";t=t+\"?box_num=\"+this.searchObj.box_num+\"&channel_id=\"+this.searchObj.channel_id+\"&company_serial=\"+this.searchObj.company_serial+\"&sample_id=\"+this.searchObj.sample_id+\"&lislab_starttime=\"+this.searchObj.lislab_starttime+\"&lislab_endtime=\"+this.searchObj.lislab_endtime+\"&receive_starttime=\"+this.searchObj.receive_starttime+\"&receive_endtime=\"+this.searchObj.receive_endtime+\"&multipleSelection=\"+this.batch_number_str,window.open(t)},getCompanySerial:function(){var e=this;l.a.getLabName().then(function(t){e.companySerial=t.data})},getDutyPersonName:function(){var e=this;l.a.getDutyname().then(function(t){e.dutyPersonName=t.data})},resetData:function(){this.searchObj.companySerial=null,this.searchObj.lislabStatus=null,this.searchObj.dutyPersonName=null,this.getSampleListInfo(1)}}},h=a(\"KHd+\"),o=Object(h.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\"},[a(\"el-form\",{ref:\"searchObj\",staticClass:\"demo-form-inline\",attrs:{inline:!0,model:e.searchObj}},[a(\"el-form-item\",{attrs:{label:\"版号\",prop:\"batch_number\"}},[a(\"el-input\",{staticClass:\"box1\",attrs:{placeholder:\"请输入内容\",clearable:\"\"},model:{value:e.searchObj.batch_number,callback:function(t){e.$set(e.searchObj,\"batch_number\",t)},expression:\"searchObj.batch_number\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"版状态\",prop:\"batch_status\"}},[a(\"el-select\",{attrs:{clearable:\"\",filterable:\"\",placeholder:\"全部\"},model:{value:e.searchObj.batch_status,callback:function(t){e.$set(e.searchObj,\"batch_status\",t)},expression:\"searchObj.batch_status\"}},e._l(e.batch_status,function(e){return a(\"el-option\",{key:e,attrs:{label:e.label,value:e.value}})}))],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"实验室\",prop:\"carNum\"}},[a(\"el-select\",{attrs:{clearable:\"\",filterable:\"\",placeholder:\"全部\"},model:{value:e.searchObj.company_serial,callback:function(t){e.$set(e.searchObj,\"company_serial\",t)},expression:\"searchObj.company_serial\"}},e._l(e.lislab,function(e){return a(\"el-option\",{key:e,attrs:{label:e.label,value:e.value}})}))],1),e._v(\" \"),a(\"br\"),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"上机时间\",prop:\"carNum\"}},[a(\"div\",{staticClass:\"block\"},[a(\"el-date-picker\",{attrs:{type:\"datetime\",placeholder:\"请输入开始上机时间\"},model:{value:e.searchObj.machine_starttime,callback:function(t){e.$set(e.searchObj,\"machine_starttime\",t)},expression:\"searchObj.machine_starttime\"}})],1)]),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"至\",prop:\"\"}},[a(\"div\",{staticClass:\"block\"},[a(\"el-date-picker\",{attrs:{type:\"datetime\",placeholder:\"请输入结束上机时间\"},model:{value:e.searchObj.machine_endtime,callback:function(t){e.$set(e.searchObj,\"machine_endtime\",t)},expression:\"searchObj.machine_endtime\"}})],1)]),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"检测类型\",prop:\"personPhone\"}},[a(\"el-select\",{attrs:{clearable:\"\",filterable:\"\",placeholder:\"全部\"},model:{value:e.searchObj.test_type,callback:function(t){e.$set(e.searchObj,\"test_type\",t)},expression:\"searchObj.test_type\"}},e._l(e.test_type,function(e){return a(\"el-option\",{key:e,attrs:{label:e.label,value:e.value}})}))],1),e._v(\" \"),a(\"el-checkbox\",{attrs:{\"true-label\":\"1\",\"false-label\":\"0\",label:\"仅看存在复检版号\",border:\"\"},on:{click:function(t){e.getResultSampleListInfo()}},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:\"checked1\"}}),e._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\"},on:{click:function(t){e.getResultSampleListInfo()}}},[e._v(\"查询\")])],1)],1),e._v(\" \"),this.multipleSelection.length<=1?a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.getBatchNumber()}}},[e._v(\"查看实验结果\")]):e._e(),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.exportReceiveSampleData()}}},[e._v(\"导出数据\")]),e._v(\" \"),a(\"br\"),e._v(\" \"),a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.list,stripe:\"\",\"empty-text\":\"数据加载中...\"},on:{\"selection-change\":e.handleSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"selection\",label:\"\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"batch_number\",width:\"120\",label:\"版号\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"company_serial\",label:\"检测类型\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"test_status\",label:\"状态\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"tube_sum\",label:\"样本管数\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"result_sum\",label:\"上传结果管数\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"repeat_sum\",label:\"复检数\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"sample_sum\",label:\"样本人数\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"embark_time\",label:\"上机时间\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"person_name\",label:\"上机人\"}}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"test_result_person\",label:\"提交结果人\"}})],1),e._v(\" \"),a(\"el-pagination\",{staticStyle:{padding:\"30px 0\",\"text-align\":\"center\"},attrs:{\"current-page\":e.current,\"page-size\":e.limit,total:e.total,layout:\"total, prev, pager, next, jumper\"},on:{\"current-change\":e.getResultSampleListInfo}})],1)},[],!1,null,null,null);o.options.__file=\"result.vue\";t.default=o.exports}}]);","extractedComments":[]}